<!DOCTYPE html>
<html>
  <head>
    <meta charset="utf-8" />
    <link href="application.css" rel="stylesheet" />
    <script src="https://cdnjs.cloudflare.com/ajax/libs/d3/3.5.17/d3.js"></script>
    <script src="cola.3.1.3.min.js"></script>
    <script src="https://code.jquery.com/jquery-3.0.0.min.js"></script>
    <script src="application.js"></script>

  </head>

  <body>
    <form>
      <label>
        <input id="loopback" type="checkbox" checked>
        loopback
      </label>
    </form>
  </body>

  <script>
   $(function() {
     $('#loopback').on('change', function(e, data) {
       diagram.destroy();
       diagram = new Diagram('data.json', {distance: distance})

       if($('#loopback:checked').length>0)
         diagram.init('loopback', 'interface');
       else
         diagram.init('interface');
     });
   })

   var distance = function(cola) { cola.jaccardLinkLengths(100, 0.2) }
   var diagram = new Diagram('shownet.json', {distance: distance})
   diagram.init('loopback', 'interface');
  </script>
</html>
